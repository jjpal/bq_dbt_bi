version: 2

models:
  - name: int_users_acct_age
    description: Contains all user columns, fullname and age of the account by s,m,h,d,y
    columns: 
      - name: user_guid
        description: unique user UUID
        tests:
          - unique
          - not_null     
      - name: user_full_name
        description: fullname for the user
        tests:
          - unique
          - not_null
      - name: user_email
        description: User email address
        tests:
          - unique
          - not_null
      - name: user_phone_number
        description: User phone number
        tests:
          - unique
          - not_null
      - name: user_address_guid
        description: Default delivery address for the user
        tests:
          - unique
          - not_null    
      - name: user_created_at_utc
        description: time when the user created the account
        tests:
          - unique
          - not_null    
      - name: updated_at_utc
        description: Timestamp the user was last updated
        tests:
          - unique
          - not_null
      - name: user_account_age_sec  
        description: time from when user created account up to current time measured in seconds
        tests:
          - unique
          - not_null
      - name: user_account_age_min  
        description: time from when user created account up to current time measured in minutes
        tests:
          - unique
          - not_null
      - name: user_account_age_hr  
        description: time from when user created account up to current time measured in hours
        tests:
          - unique
          - not_null
      - name: user_account_age_day  
        description: time from when user created account up to current time measured in days
        tests:
          - unique
          - not_null
      - name: user_account_age_month
        description: time from when user created account up to current time measured in months
        tests:
          - unique
          - not_null
      - name: user_account_age_year
        description: time from when user created account up to current time measured in years
        tests:
          - unique
          - not_null    

  - name: int_address_st_agg
    description: Contains adress data and state count
    columns:
    - name: address_quid
        description: UID for each unique address
        tests:
          - unique
          - not_null                                                                                         
      - name: address
        description: user address
        tests:
          - unique
          - not_null
      - name: zipcode
        description: user zipcode from address
        tests:
          - unique
          - not_null 
      - name: state
        description: user state from address
        tests:
          - unique
          - not_null
      - name: country 
        description: user country from address
        tests:
          - unique
          - not_null                 
      - name: state_count
        description: state aggregated count
        tests:
          - unique
          - not_null

